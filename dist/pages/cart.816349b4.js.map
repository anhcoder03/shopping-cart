{"mappings":"AAAA,SAAS,gBAAgB,CAAC,oBAAoB,IAAM;IAClD,MAAM,cAAc,SAAS,cAAc,CAAC;IAE5C,SAAS,oBAAoB;QAC3B,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,SAAS,KAAK,KAAK,CAAC;QAC1B,IAAI,OAAO,MAAM,GAAG,GAAG;YACrB,MAAM,OAAO,OAAO,GAAG,CAAC,CAAC,IAAM;gBAC7B,MAAM,iBAAiB,OAAO,EAAE,KAAK;gBACrC,MAAM,QAAQ,AAAC,CAAA,iBAAiB,EAAE,QAAQ,AAAD,EAAG,cAAc,CAAC;gBAC3D,OAAO,CAAC;kDACkC,EAAE,EAAE,EAAE,CAAC;;;;2BAI9B,EAAE,EAAE,KAAK,CAAC;;;oBAGjB,EAAE,EAAE,IAAI,CAAC;;;;;0CAKa,EAAE,EAAE,KAAK,CAAC;;;gFAG4B,EAAE,EAAE,QAAQ,CAAC;;qDAExC,EAAE,MAAM;;;;eAI9C,CAAC;YACV;YACA,YAAY,SAAS,GAAG,KAAK,IAAI,CAAC;YAClC,MAAM,YAAY,SAAS,gBAAgB,CACzC;YAGF,IAAI,MAAM,EAAE;YACZ;mBAAI;aAAU,CAAC,OAAO,CAAC,CAAC,OAAS;gBAC/B,MAAM,mBAAmB,KAAK,WAAW;gBACzC,MAAM,eAAe,OAAO,iBAAiB,UAAU,CAAC,KAAK;gBAC7D,IAAI,IAAI,CAAC;YACX;YACA,MAAM,cAAc,CAAC,SAAW;gBAC9B,OAAO,IAAI,KAAK,YAAY,GAAG,MAAM,CAAC;YACxC;YACA,MAAM,eAAe,SAAS,aAAa,CAAC;YAC5C,MAAM,gBAAgB,IAAM;gBAC1B,MAAM,QAAQ,IAAI,MAAM,CAAC,CAAC,OAAO,QAAU,QAAQ;gBACnD,aAAa,WAAW,GAAG,YAAY;gBACvC,OAAO;YACT;YACA;QACF,OAAO;YACL,MAAM,WAAW,SAAS,aAAa,CAAC;YACxC,MAAM,kBAAkB,SAAS,aAAa,CAAC;YAC/C,SAAS,WAAW,CAAC;YACrB,MAAM,WAAW,CAAC;;;;;;;;MAQlB,CAAC;YACD,SAAS,kBAAkB,CAAC,aAAa;QAC3C,CAAC;IACH;IAEA,IAAI,aACF;IAEF,MAAM,YAAY,SAAS,aAAa,CAAC;IACzC,MAAM,WAAW,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;IACjD,SAAS,WAAW;QAClB,IAAI,QAAQ;QACZ,IAAI,SAAS,MAAM,IAAI,GAAG;YACxB,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,IAAK;gBACxC,IAAI,WAAW,SAAS,QAAQ,CAAC,EAAE,CAAC,QAAQ;gBAC5C,SAAS;YACX;YACA,UAAU,WAAW,GAAG;QAC1B,CAAC;IACH;IACA;IACA,MAAM,YAAY,SAAS,gBAAgB,CAAC;IAC5C;WAAI;KAAU,CAAC,OAAO,CAAC,CAAC,OACtB,KAAK,gBAAgB,CAAC,SAAS,SAAU,CAAC,EAAE;YAC1C,MAAM,WAAW,EAAE,MAAM,CAAC,UAAU,CAAC,UAAU;YAC/C,SAAS,UAAU,CAAC,WAAW,CAAC;YAChC,MAAM,SAAS,SAAS,OAAO,CAAC,EAAE;YAClC,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,SAAS,KAAK,KAAK,CAAC;YAC1B,MAAM,WAAW,OAAO,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;YACrD,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;YACjD,SAAS,IAAI,GAAG;QAClB;AAEJ","sources":["src/components/cart.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n  const cartProduct = document.getElementById(\"cart-product\");\r\n\r\n  function renderCartProduct() {\r\n    const dbCartJson = localStorage.getItem(\"addToCart\");\r\n    const dbCart = JSON.parse(dbCartJson);\r\n    if (dbCart.length > 0) {\r\n      const html = dbCart.map((e) => {\r\n        const priceNewNumber = Number(e.price);\r\n        const price = (priceNewNumber * e.quantity).toLocaleString(\"en-US\");\r\n        return `\r\n         <div class=\"cart-product--item\" data-id=\"${e.id}\">\r\n           <div class=\"product__img-title\">\r\n             <div class=\"__img-title\">\r\n               <div class=\"__img-product\">\r\n                 <img src=\"${e.image}\" alt=\"\">\r\n               </div>\r\n               <div class=\"__img-title\">\r\n                 <p>${e.name}</p>\r\n               </div>\r\n             </div>\r\n           </div>\r\n           <div class=\"product__unit_price\">\r\n               <p class=\"unit-price-new\">đ${e.price}</p>\r\n           </div>\r\n           <div class=\"product__amount\">\r\n             <input type=\"text\" name=\"\" class=\"input__product--selected\" value=\"${e.quantity}\">\r\n           </div>\r\n           <div class=\"product__amount_money\">đ<span>${price}</span></div>\r\n           <div class=\"product__manipulation\">\r\n             <p class=\"__manipulation--delete\">Xoá</p>\r\n           </div>\r\n         </div>`;\r\n      });\r\n      cartProduct.innerHTML = html.join(\" \");\r\n      const priceList = document.querySelectorAll(\r\n        \".product__amount_money span\"\r\n      );\r\n\r\n      let arr = [];\r\n      [...priceList].forEach((item) => {\r\n        const textContentPrice = item.textContent;\r\n        const convertToNum = Number(textContentPrice.replaceAll(\",\", \"\"));\r\n        arr.push(convertToNum);\r\n      });\r\n      const formatPrice = (number) => {\r\n        return new Intl.NumberFormat().format(number);\r\n      };\r\n      const totalPayment = document.querySelector(\".total-payment span\");\r\n      const getTotalPrice = () => {\r\n        const total = arr.reduce((total, price) => total + price);\r\n        totalPayment.textContent = formatPrice(total);\r\n        return total;\r\n      };\r\n      getTotalPrice();\r\n    } else {\r\n      const mainCart = document.querySelector(\"#main-cart\");\r\n      const mainCartContent = document.querySelector(\".main-cart-content\");\r\n      mainCart.removeChild(mainCartContent);\r\n      const template = `\r\n      <div class=\"no-cart-wrapper\">\r\n         <h3 class=\"no-cart\">Không có sản phẩm nào trong giỏ hàng</h3>\r\n         <div class=\"no-cart-img\">\r\n            <img src=\"https://www.nicepng.com/png/detail/285-2852098_no-cart-items-found-carrito-de-compras-icono.png\" alt=\"\" />\r\n         </div>\r\n         <a href=\"product.html\" class=\"to-page-product\">MUA HÀNG</a>\r\n      </div>\r\n      `;\r\n      mainCart.insertAdjacentHTML(\"beforeend\", template);\r\n    }\r\n  }\r\n\r\n  if (cartProduct) {\r\n    renderCartProduct();\r\n  }\r\n  const totalCart = document.querySelector(\".total-cart\");\r\n  const cartList = JSON.parse(localStorage.getItem(\"addToCart\"));\r\n  function sumTotal() {\r\n    let total = 0;\r\n    if (cartList.length >= 0) {\r\n      for (let i = 0; i < cartList.length; i++) {\r\n        let quantity = parseInt(cartList[i].quantity);\r\n        total += quantity;\r\n      }\r\n      totalCart.textContent = total;\r\n    }\r\n  }\r\n  sumTotal();\r\n  const deleteBtn = document.querySelectorAll(\".__manipulation--delete\");\r\n  [...deleteBtn].forEach((item) =>\r\n    item.addEventListener(\"click\", function (e) {\r\n      const cartItem = e.target.parentNode.parentNode;\r\n      cartItem.parentNode.removeChild(cartItem);\r\n      const cartId = cartItem.dataset.id;\r\n      const dbCartJson = localStorage.getItem(\"addToCart\");\r\n      const dbCart = JSON.parse(dbCartJson);\r\n      const newCarts = dbCart.filter((item) => item.id !== cartId);\r\n      localStorage.setItem(\"addToCart\", JSON.stringify(newCarts));\r\n      location.href = \"cart.htmlx\";\r\n    })\r\n  );\r\n});\r\n"],"names":[],"version":3,"file":"cart.816349b4.js.map","sourceRoot":"/__parcel_source_root/"}